<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Plataforma de Estudos - Professor Galdino</title>
<style>
  /* RESET */
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f5f7fa; color: #333; }

  /* CABEÇALHO */
  header { background-color: #003366; color: #fff; padding: 15px 20px; display: flex; align-items: center; justify-content: space-between; position: sticky; top: 0; z-index: 100; }
  header img { height: 50px; }
  header h1 { font-size: 1.5rem; margin-left: 15px; }

  /* CONTAINER CENTRAL */
  main { max-width: 900px; margin: 50px auto; padding: 20px; display: flex; flex-direction: column; align-items: center; }

  /* LOGIN */
  #loginDiv { background: #fff; padding: 40px; border-radius: 12px; box-shadow: 0 8px 20px rgba(0,0,0,0.1); width: 100%; max-width: 400px; text-align: center; }
  #loginDiv input { width: 100%; padding: 14px; margin: 10px 0; border: 1px solid #ccc; border-radius: 8px; font-size: 1rem; }
  #loginDiv button { width: 100%; padding: 14px; border: none; background-color: #007bff; color: white; border-radius: 8px; cursor: pointer; font-size: 1rem; transition: background 0.3s; margin-top: 10px; }
  #loginDiv button:hover { background-color: #0056b3; }
  #loginMsg { color: red; margin-top: 10px; font-weight: bold; }

  /* ÁREAS DE ESTUDO */
  #areaDiv { display: none; width: 100%; text-align: center; }
  .cards { display: flex; flex-wrap: wrap; gap: 20px; justify-content: center; margin-top: 20px; }
  .card { background: #fff; padding: 25px; border-radius: 12px; width: 180px; text-align: center; box-shadow: 0 8px 20px rgba(0,0,0,0.1); transition: transform 0.3s; cursor: pointer; }
  .card:hover { transform: translateY(-5px); box-shadow: 0 12px 25px rgba(0,0,0,0.2); }
  .card h3 { margin-bottom: 10px; color: #003366; }

  /* QUESTÕES */
  #questaoDiv { display: none; margin-top: 20px; width: 100%; max-width: 700px; }
  .questao-card { background: #fff; padding: 25px; border-radius: 12px; box-shadow: 0 8px 20px rgba(0,0,0,0.1); }
  .questao-card img { max-width: 100%; margin: 15px 0; border-radius: 8px; }
  .questao-card button { padding: 12px 20px; margin-top: 15px; border: none; background-color: #28a745; color: white; border-radius: 6px; cursor: pointer; transition: background 0.3s; }
  .questao-card button:hover { background-color: #1e7e34; }

  /* RODAPÉ */
  footer { background-color: #003366; color: #fff; text-align: center; padding: 15px; margin-top: 50px; border-radius: 0 0 12px 12px; }
</style>
</head>
<body>

<header>
  <img src="logomecanica.png" alt="Logo Mecânica">
  <h1>Plataforma de Estudos - Professor Galdino</h1>
</header>

<main>
  <!-- LOGIN -->
  <div id="loginDiv">
    <h2>Login</h2>
    <input type="text" id="usuario" placeholder="Usuário">
    <input type="password" id="senha" placeholder="Senha">
    <button onclick="login()">Entrar</button>
    <p id="loginMsg"></p>
  </div>

  <!-- ÁREA DE ESTUDO -->
  <div id="areaDiv">
    <h2>Escolha a Área de Estudo</h2>
    <div class="cards">
      <div class="card" onclick="carregarDisciplina('matematica.json')"><h3>Matemática</h3></div>
      <div class="card" onclick="carregarDisciplina('cienciasn.json')"><h3>Ciências da Natureza</h3></div>
      <div class="card" onclick="carregarDisciplina('ciencash.json')"><h3>Ciências Humanas</h3></div>
      <div class="card" onclick="carregarDisciplina('linguagens.json')"><h3>Linguagens</h3></div>
    </div>
  </div>

  <!-- QUESTÕES -->
  <div id="questaoDiv">
    <div class="questao-card" id="questao"></div>
    <button onclick="mostrarQuestao()">Carregar Nova Questão</button>
  </div>
</main>

<footer>
  Site desenvolvido pelo Professor Galdino
</footer>

<script>
let questoes = [];
let ultimaIndex = -1;

// USUÁRIOS
const usuarios = [
  {usuario: "admin", senha: "admin123"}, // Master admin
  {usuario: "teste", senha: "1234"}      // Usuário padrão
  // Para adicionar mais usuários:
  // {usuario: "novoUsuario", senha: "novaSenha"},
];

// LOGIN
function login() {
  const user = document.getElementById('usuario').value;
  const pass = document.getElementById('senha').value;
  const valido = usuarios.some(u => u.usuario === user && u.senha === pass);
  if(valido) {
    document.getElementById('loginDiv').style.display = 'none';
    document.getElementById('areaDiv').style.display = 'block';
  } else {
    document.getElementById('loginMsg').innerText = 'Usuário ou senha incorretos!';
  }
}

// CARREGAR DISCIPLINA
function carregarDisciplina(file) {
  fetch(file)
    .then(res => res.json())
    .then(data => {
      questoes = data;
      ultimaIndex = -1;
      document.getElementById('areaDiv').style.display = 'none';
      document.getElementById('questaoDiv').style.display = 'block';
      mostrarQuestao();
    })
    .catch(err => {
      document.getElementById('questao').innerText = 'Erro ao carregar questões.';
      console.error(err);
    });
}

// MOSTRAR QUESTÃO ALEATÓRIA
function mostrarQuestao() {
  if(!questoes.length) return;
  let index;
  do {
    index = Math.floor(Math.random() * questoes.length);
  } while(index === ultimaIndex && questoes.length > 1);
  ultimaIndex = index;
  const q = questoes[index];
  document.getElementById('questao').innerHTML = `
    <strong>Questão ${q.id}:</strong> ${q.enunciado}<br>
    ${q.imagem ? `<img src="${q.imagem}" alt="imagem da questão">` : ''}
    <strong>Alternativas:</strong><br>
    ${Object.entries(q.alternativas).map(([k,v]) => `${k}) ${v}`).join('<br>')}<br>
    <strong>Resposta:</strong> ${q.resposta}
  `;
}
</script>

</body>
</html>
